task.wait(5)

local queueteleport = queue_on_teleport or (syn and syn.queue_on_teleport) or (fluxus and fluxus.queue_on_teleport)
if queueteleport then
    queueteleport([[
        loadstring(game:HttpGet("https://raw.githubusercontent.com/tawlavegas-jpg/wdwdwdwd/refs/heads/main/tththth"))()
    ]])
    print("‚úÖ Auto-reload enabled")
else
    warn("‚ö†Ô∏è queue_on_teleport not supported - script will not auto-reload")
end

---------------------------------------------------------------------
-- WAIT LOADINGSCREEN REMOVE
---------------------------------------------------------------------
local player = game:GetService("Players").LocalPlayer
local gui = player:WaitForChild("PlayerGui")

repeat task.wait(0.01)
until gui:FindFirstChild("LoadingScreen") == nil

print("LoadingScreen ‡∏´‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß ‚Äî ‡πÑ‡∏õ‡∏ï‡πà‡∏≠‡πÑ‡∏î‡πâ!")

---------------------------------------------------------------------
-- VARIABLES
---------------------------------------------------------------------
local Roll = "Kamado"
local clanme = nil
local Randomchance = nil

local rmRB = game:GetService("ReplicatedStorage"):WaitForChild("Remotes"):WaitForChild("Sync")
local Players = game:GetService("Players")
local TeleportService = game:GetService("TeleportService")
local PlaceId = game.PlaceId
local JobId = game.JobId

local normalvalue = {"Character","Customization","Eyes",9}
local errorvalue = {"Character","Customization","Eyes",workspace}



local sameCount = 0
local maxSame = 3


---------------------------------------------------------------------
-- FUNCTIONS
---------------------------------------------------------------------
CheckRoll = function()
    for _,v in next, getgc(true) do
        if type(v) == "table" and rawget(v, "LastName") then
            clanme = v.LastName
            Randomchance = v.FamilyRolls
            return
        end
    end
end

rejoin = function()
    print("üîÑ Rejoining...")
    task.wait(1)

    if #Players:GetPlayers() <= 1 then
        player:Kick("\nRejoining...")
        TeleportService:Teleport(PlaceId, player)
    else
        TeleportService:TeleportToPlaceInstance(PlaceId, JobId, player)
    end
end

NormalizeEyes = function()
    for i = 1, 10 do
        rmRB:InvokeServer(unpack(normalvalue))
        print("Normalizing... " .. i .. "/10")
        task.wait(0.01)
    end
end

---------------------------------------------------------------------
-- MAIN LOOP
---------------------------------------------------------------------
_G.SpinRoll = true

while _G.SpinRoll do
    CheckRoll()

    ----------------------------------
    -- CASE 1 : ‡πÑ‡∏î‡πâ Roll ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£
    ----------------------------------
    if clanme == Roll then
        print("‚úîÔ∏è ‡πÑ‡∏î‡πâ‡∏ï‡∏£‡∏∞‡∏Å‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß :", clanme)
        NormalizeEyes()
        break
    end
    
    

    ----------------------------------
    -- CASE 2 : ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Roll ‡πÅ‡∏•‡∏∞‡∏¢‡∏±‡∏á‡∏°‡∏µ chance
    ----------------------------------
    if Randomchance > 0 and clanme ~= Roll then
        print("‡∏™‡∏∏‡πà‡∏°‡∏≠‡∏µ‡∏Å (‡πÄ‡∏´‡∏•‡∏∑‡∏≠ chance:", Randomchance, ")")

        for i = 1, 60 do
            rmRB:InvokeServer(unpack(errorvalue))
            task.wait(0.001)
        end

        -- ‡∏™‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà
        rmRB:InvokeServer("Character","Customization","LastName")
        task.wait(0.1)

        -- ‡∏≠‡πà‡∏≤‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏´‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°
        local newName = Roll  -- ‡∏´‡∏£‡∏∑‡∏≠‡∏ó‡∏µ‡πà‡∏ô‡∏≤‡∏¢‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡πà‡∏≤‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏•‡∏±‡∏á spin ‡∏à‡∏£‡∏¥‡∏á ‡πÜ

        ---------------------------------------------------
        -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°-‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà
        ---------------------------------------------------
        if newName == clanme then
            sameCount += 1
            print("‡πÑ‡∏î‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°‡∏ã‡πâ‡∏≥! ("..sameCount.."/"..maxSame..")")

            if sameCount >= maxSame then
                warn("‡∏™‡∏∏‡πà‡∏°‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏£‡∏ö 3 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á ‚Üí Rejoin()")
                rejoin()
                break -- ‡∏Å‡∏±‡∏ô‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡∏ß‡∏ô‡∏ï‡πà‡∏≠
            end
        else
            -- ‡πÑ‡∏î‡πâ‡∏ä‡∏∑‡πà‡∏≠‡πÉ‡∏´‡∏°‡πà ‡∏Å‡πá reset counter
            sameCount = 0
        end

        -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏î‡∏¥‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏µ‡πà‡∏™‡∏õ‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î
        clanme = newName
        continue
    end

    ----------------------------------
    -- CASE 3 : ‡∏´‡∏°‡∏î chance ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ Roll
    ----------------------------------
    if Randomchance <= 0 and clanme ~= Roll then
        print("‚ùå ‡∏´‡∏°‡∏î chance ‚Äî ‡∏≠‡∏≠‡∏Å‡πÑ‡∏õ rejoin")
        rejoin()
        break
    end
end
